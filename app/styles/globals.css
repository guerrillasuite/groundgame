/* ==========================================================================
   GroundGame – globals.css (Dark-first, Pressable UI, Fixed Footer)
   Palette & tokens match: Primary 600 #2563EB, Hover 500 #3B82F6, Pressed 700 #1E4ED8,
   Outline 400 #60A5FA, Chip 50 #EFF6FF, BG 900 #0B0F14, Surface 800 #121721,
   Card 700 #1C2430, Border 600 #2B3543, Text 100 #EEF2F6, Text 300 #8696A8
   Semantic: Success #16A34A • Warning #F59E0B • Error #DC2626
   ========================================================================== */

/* ---- CSS Variables (rgb triplets for easy alpha) ---- */
:root {
  /* Brand */
  --primary-500: 59 130 246;   /* #3B82F6 */
  --primary-600: 37 99 235;    /* #2563EB */
  --primary-700: 30 78 216;    /* #1E4ED8 */
  --outline-400: 96 165 250;   /* #60A5FA */
  --chip-50: 239 246 255;      /* #EFF6FF */

  /* Neutrals */
  --bg-900: 11 15 20;          /* #0B0F14 */
  --surface-800: 18 23 33;     /* #121721 */
  --card-700: 28 36 48;        /* #1C2430 */
  --border-600: 43 53 67;      /* #2B3543 */
  --text-100: 238 242 246;     /* #EEF2F6 */
  --text-300: 134 150 168;     /* #8696A8 */

  /* Semantic */
  --success-600: 22 163 74;    /* #16A34A */
  --warning-500: 245 158 11;   /* #F59E0B */
  --error-600: 220 38 38;      /* #DC2626 */

  /* Radius & Shadows (carried over, slightly tuned) */
  --radius: 14px;
  --shadow: 0 8px 24px rgba(0,0,0,.25);
  --shadow-press: 0 4px 12px rgba(0,0,0,.28);

  /* Back-compat aliases for any legacy usage */
  --brand-primary: rgb(var(--primary-600));
  --brand-accent:  rgb(var(--primary-500));
  --brand-bg:      rgb(var(--bg-900));
  --brand-surface: rgb(var(--surface-800));
  --brand-text:    rgb(var(--text-100));
  --brand-muted:   rgb(var(--text-300));
}

/* ---- Resets & base ---- */
* { box-sizing: border-box; }
html, body { margin: 0; padding: 0; height: 100%; }
body {
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
  background:
    radial-gradient(1200px 600px at 50% -10%, rgba(255,255,255,0.02) 0%, rgba(255,255,255,0.00) 38%, rgba(255,255,255,0) 100%),
    rgb(var(--bg-900));
  color: rgb(var(--text-100));
}
a { color: inherit; text-decoration: none; }
:focus-visible { outline: 2px solid rgb(var(--outline-400)); outline-offset: 2px; }

/* ---- Layout shell ---- */
.app-wrap { min-height: 100dvh; display: grid; grid-template-rows: auto 1fr auto; }
.app-main { padding: 16px 16px 84px; max-width: 900px; margin: 0 auto; width: 100%; }

/* ---- Utilities ---- */
.bg-app { background-color: rgb(var(--bg-900)); }
.bg-surface { background-color: rgb(var(--surface-800)); }
.bg-card { background-color: rgb(var(--card-700)); }
.text-dim { color: rgb(var(--text-300)); }
.border-app { border-color: rgb(var(--border-600)); }

.stack { display: grid; gap: 16px; }
.row { display: flex; gap: 12px; align-items: center; }
.muted { color: rgb(var(--text-300)); }

/* Aspect helpers (for square home buttons) */
.aspect-square { aspect-ratio: 1 / 1; }
.grid-two { display: grid; grid-template-columns: repeat(2, 1fr); gap: 16px; }

/* ---- Pressable Cards / Buttons ---- */
.press-card {
  background-color: rgb(var(--card-700));
  border-radius: var(--radius);
  border: 1px solid rgb(var(--border-600));
  box-shadow: var(--shadow);
  display: grid;
  grid-template-columns: 64px 1fr auto;
  gap: 16px;
  align-items: center;
  padding: 18px 18px;
  cursor: pointer;
  transition: transform .05s ease, box-shadow .15s ease, border-color .15s ease, background-color .15s ease;
}
.press-card:hover { border-color: rgba(255,255,255,.12); box-shadow: 0 12px 28px rgba(0,0,0,.30); }
.press-card:active { transform: translateY(1px); box-shadow: var(--shadow-press); }

.press-card__icon {
  width: 56px; height: 56px; border-radius: 14px;
  display: grid; place-items: center;
  background: linear-gradient(180deg, rgb(var(--primary-600)), rgb(var(--primary-500)));
  color: white;
  box-shadow: inset 0 1px 0 rgba(255,255,255,.25), 0 6px 14px rgba(0,0,0,.25);
}
.press-card__title { font-weight: 700; font-size: 1.15rem; letter-spacing: .2px; }
.press-card__subtitle { color: rgb(var(--text-300)); margin-top: 4px; font-size: .95rem; }
.chevron { opacity: .7; }

/* Optional: make home screen cards square when placed side-by-side in a 2-col grid */
.home-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 16px; }
.home-grid .press-card { aspect-ratio: 1 / 1; grid-template-columns: 1fr; justify-items: start; padding: 18px; }
.home-grid .press-card__icon { width: 48px; height: 48px; }
.home-grid .chevron { justify-self: end; align-self: end; }

/* ---- Lists ---- */
.list { display: grid; gap: 12px; }
.list-item {
  background: rgb(var(--surface-800));
  border: 1px solid rgb(var(--border-600));
  border-radius: 12px;
  padding: 12px 14px;
}
.list-item h4 { margin: 0 0 4px; font-size: 1rem; color: rgb(var(--text-100)); }
.list-item p { margin: 0; color: rgb(var(--text-300)); font-size: .92rem; }

/* ---- Header (AppShell + Header component) ---- */
.header,
.sticky-header {
  display: grid; grid-template-columns: auto 1fr; gap: 12px; align-items: center;
  padding: 16px; max-width: 900px; margin: 0 auto; width: 100%;
}
.header img { height: 32px; width: auto; }
.header h1 { margin: 0; font-size: 1.1rem; font-weight: 700; letter-spacing: .3px; color: rgb(var(--text-100)); }

/* Provide a sticky style that matches dark theme (for AppShell top bar) */
.sticky.top-0,
.topbar-dark {
  background: rgba(18,23,33,.92); /* surface-800/92% */
  backdrop-filter: blur(10px);
  border-bottom: 1px solid rgba(255,255,255,.08);
  color: rgb(var(--text-100));
}

/* ---- Footer ---- */
.footer-nav {
  position: fixed; left: 0; right: 0; bottom: 0;
  background: rgba(18,23,33,.92); /* surface-800/92% */
  backdrop-filter: blur(10px);
  border-top: 1px solid rgba(255,255,255,.10);
  display: grid; grid-template-columns: repeat(4, 1fr);
  padding: 8px 8px calc(8px + env(safe-area-inset-bottom));
  z-index: 50;
}
.footer-btn {
  display: grid; place-items: center; gap: 6px;
  padding: 10px 6px;
  border-radius: 10px;
  color: rgb(var(--text-300));
  transition: background-color .12s ease, color .12s ease;
}
.footer-btn[aria-current="page"],
.footer-btn.active {
  color: rgb(var(--text-100));
  background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.00));
  box-shadow: var(--shadow);
}

/* ---- Tabs (Account) ---- */
.tabs { display: grid; grid-auto-flow: column; gap: 8px; margin: 6px 0 16px; }
.tab {
  text-align: center; padding: 10px 12px; border-radius: 10px; cursor: pointer;
  background: rgba(255,255,255,.04); border: 1px solid rgba(255,255,255,.10);
  color: rgb(var(--text-300));
}
.tab:hover { color: rgb(var(--text-100)); border-color: rgba(255,255,255,.16); }
.tab.active { background: rgba(255,255,255,.08); border-color: rgba(255,255,255,.18); color: rgb(var(--text-100)); }

/* ---- Buttons ---- */
.btn {
  display: inline-flex; align-items: center; justify-content: center;
  border: 1px solid rgb(var(--border-600));
  background-color: rgb(var(--primary-600));
  color: rgb(var(--text-100));
  border-radius: 12px;
  padding: 0.875rem 1rem; /* 14px x 16px */
  font-weight: 600; letter-spacing: 0.01em;
  box-shadow: var(--shadow);
  transition: transform .08s ease, box-shadow .08s ease, background-color .1s ease;
}
.btn:hover { background-color: rgb(var(--primary-500)); }
.btn:active { background-color: rgb(var(--primary-700)); transform: translateY(1px); }
.btn-outdoor { background-color: rgb(var(--primary-700)); } /* ≥7:1 on surface-800 */

/* ---- Form elements & dropdowns (Call Results, Opportunity popout) ---- */
input, textarea, select,
[role="listbox"], [role="menu"],
.PopoverContent, .DropdownMenuContent, .SelectContent, .SelectViewport, .DialogContent {
  background-color: rgb(var(--surface-800)) !important;
  color: rgb(var(--text-100)) !important;
  border: 1px solid rgb(var(--border-600)) !important;
}
option, .SelectItem, [role="option"] {
  background-color: rgb(var(--card-700)) !important;
  color: rgb(var(--text-100)) !important;
}
::placeholder { color: rgb(var(--text-300)); }
label { color: rgb(var(--text-100)); font-weight: 600; }
.help { color: rgb(var(--text-300)); font-size: 0.875rem; }

/* Popout / drawer container hint (in case a wrapper class is used) */
.drawer, .sheet, .popout, .panel {
  background-color: rgb(var(--surface-800));
  color: rgb(var(--text-100));
  border: 1px solid rgb(var(--border-600));
  border-radius: 16px;
}

/* ---- Borders in tables/lists ---- */
hr, .divider, .list-row { border-color: rgb(var(--border-600)); }

/* ---- Color tokens (utility classes) ---- */
.text-success { color: rgb(var(--success-600)); }
.text-warning { color: rgb(var(--warning-500)); }
.text-error   { color: rgb(var(--error-600)); }
.bg-success   { background-color: rgb(var(--success-600)); }
.bg-warning   { background-color: rgb(var(--warning-500)); }
.bg-error     { background-color: rgb(var(--error-600)); }
/* ===== Select & popover nuclear overrides (place LAST) ===== */

/* Native <select> */
select {
  appearance: none;
  -webkit-appearance: none;
  -moz-appearance: none;
  background-color: rgb(var(--surface-800)) !important;
  color: rgb(var(--text-100)) !important;
  border: 1px solid rgb(var(--border-600)) !important;
}
select option {
  background-color: rgb(var(--card-700)) !important;
  color: rgb(var(--text-100)) !important;
}

/* Radix/shadcn Select + dropdowns (content renders in a portal) */
[data-radix-popper-content-wrapper] .SelectContent,
[data-radix-popper-content-wrapper] [role="listbox"],
.DropdownMenuContent,
.PopoverContent,
.SelectContent,
.SelectViewport {
  background-color: rgb(var(--card-700)) !important;
  color: rgb(var(--text-100)) !important;
  border: 1px solid rgb(var(--border-600)) !important;
}

/* Items inside popup */
.SelectItem,
[role="option"] {
  background-color: rgb(var(--card-700)) !important;
  color: rgb(var(--text-100)) !important;
}

/* The trigger/button that looks like an input */
.SelectTrigger,
[role="combobox"][aria-expanded],
.gg-select-trigger {
  background-color: rgb(var(--surface-800)) !important;
  color: rgb(var(--text-100)) !important;
  border: 1px solid rgb(var(--border-600)) !important;
}

/* Placeholders + labels */
::placeholder { color: rgb(var(--text-300)); }
label { color: rgb(var(--text-100)); font-weight: 600; }
.help { color: rgb(var(--text-300)); font-size: 0.875rem; }
/* --- APP GRID: 2-wide, centered icons --- */
.gg-appgrid {
  display: grid;
  gap: 12px;
  grid-template-columns: repeat(2, minmax(0, 1fr)); /* always 2 columns */
  align-items: stretch;
}

.gg-app {
  aspect-ratio: 1 / 1;                /* perfect square tiles */
  padding: 16px;
  border-radius: 20px;
  background: var(--brand-surface);
  color: var(--brand-text);
  box-shadow: var(--shadow);
  border: 1px solid rgba(255,255,255,.06);
  text-decoration: none;

  display: flex;                       /* center content */
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;

  transition: transform .12s ease, box-shadow .12s ease, background .12s ease;
}
.gg-app:hover { transform: translateY(-1px); box-shadow: var(--shadow-press); }

.gg-app-ico {
  width: 76px;                         /* big icon tile */
  height: 76px;
  border-radius: 18px;
  display: grid;
  place-items: center;
  background: color-mix(in oklab, var(--brand-primary) 22%, black);
  margin-bottom: 10px;
}

.gg-app h3 {
  margin: 0;
  font-size: 1rem;
  font-weight: 600;
}
/* --- List buttons --- */
.gg-list { display: grid; gap: 10px; }

.gg-item {
  display: flex; align-items: center; gap: 12px;
  padding: 14px 16px; border-radius: var(--radius);
  background: var(--brand-surface); color: var(--brand-text);
  box-shadow: var(--shadow); text-decoration: none;
}

.gg-item--button { border: 1px solid rgba(255,255,255,.10); }
.gg-item--button:hover {
  border-color: color-mix(in oklab, var(--brand-primary) 40%, white);
  background: color-mix(in oklab, var(--brand-surface) 90%, white);
}

.gg-ico {
  width: 40px; height: 40px; border-radius: 12px;
  display: grid; place-items: center;
  background: color-mix(in oklab, var(--brand-primary) 22%, black);
  flex: 0 0 auto;
}

.gg-text h2 { margin: 0 0 2px 0; font-size: 1rem; font-weight: 600; }
.gg-text p  { margin: 0; opacity: .8; font-size: .9rem; }

.gg-chevron { margin-left: auto; width: 18px; height: 18px; opacity: .9; }
/* ===== Doors polish (scoped) ===== */
/* ===== Doors layout polish ===== */
.doors.center-wrap { max-width: 720px; margin-inline: auto; }

:root {
  --primary: var(--primary, #3b82f6);
  --border: var(--border, rgba(255,255,255,0.1));
}

/* Pressable card fills width, neat transitions */
.doors .press-card {
  display: grid;
  grid-template-columns: auto 1fr auto;
  align-items: center;
  gap: 0.6rem;
  width: 100%;
  padding: 0.75rem 0.95rem;
  border: 1px solid var(--border);
  border-radius: 14px;
  background: rgba(255,255,255,0.03);
  color: var(--press-fg, #9fa3a9);
  box-shadow: 0 1px 0 rgba(0,0,0,0.2);
  transition: box-shadow .2s ease, border-color .2s ease, transform .08s ease;
}
.doors [data-selected="true"].press-card {
  background: var(--primary, #9fa3a9);
  color: var(--on-primary, #282727);   /* ← selected text color */
  border-color: transparent;
  outline: none;
}
.doors .press-card:hover { border-color: var(--primary); box-shadow: 0 6px 18px rgba(0,0,0,.25); }
.doors .press-card:active { transform: scale(.98); }
.doors .press-card.plain { grid-template-columns: 1fr; justify-items: center; text-align: center; }
/* Small back pill with spacing */
.doors .back-btn--sm {
  width: max-content;
  margin: 0 auto 10px;
  padding: 6px 10px;
  font-size: .9rem;
  border-radius: 999px;
}

/* Info boxes centered content */
.doors .info-box { text-align: center; padding: 14px 16px; }
.doors .info-box .info-title { font-weight: 600; opacity: .9; margin-bottom: 4px; }
.doors .info-box .info-line { opacity: .9; }
.doors .info-box .info-line.strong { font-size: 1.05rem; font-weight: 600; }

/* Person selector chips */
.doors .chips {
  display: flex; gap: 8px; flex-wrap: wrap; justify-content: center; margin-top: 6px;
}
.doors .chip {
  border: 1px solid var(--border, rgba(255,255,255,.1));
  border-radius: 999px;
  padding: 6px 10px;
  background: rgba(255,255,255,.04);
  transition: background .15s ease, border-color .15s ease, transform .06s ease;
}
.doors .chip:hover { border-color: var(--primary, #3b82f6); }
.doors .chip:active { transform: scale(.98); }
.doors .chip[data-selected="true"] {
  background: var(--primary, #3b82f6);
  color: #fff;
  border-color: transparent;
}


/* Selected state for disposition */
.doors [data-selected="true"].press-card { outline: 2px solid var(--primary); outline-offset: 0; }

/* Disposition grid: centered & roomy */
.doors .dispo-grid {
  display: grid;
  gap: 12px;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  justify-items: stretch;
}
@media (min-width: 640px) { .doors .dispo-grid { grid-template-columns: repeat(3, minmax(0, 1fr)); } }

/* Notes field bigger */
.doors .field .notes {
  width: 100%;
  min-height: 140px;
  border: 1px solid var(--border);
  border-radius: 12px;
  background: transparent;
  padding: 0.9rem;
}
.doors .field .notes:focus { outline: 2px solid var(--primary); outline-offset: 0; }

/* Bottom actions: skip smaller, submit bigger */
.doors .actions {
  display: flex;
  gap: 12px;
  align-items: center;
}
.doors .actions .action-skip { flex: 0 0 32%; }
.doors .actions .action-submit { flex: 1 1 auto; border-radius: 14px; padding: 0.95rem 1.1rem; font-weight: 600; }

/* Primary button baseline (in case it isn't already defined) */
.btn {
  background: var(--primary);
  color: #9fa3a9;
  border-radius: 14px;
  padding: 0.95rem 1.1rem;
  font-weight: 600;
  box-shadow: 0 8px 18px rgba(59,130,246,.22);
  transition: transform .08s ease, box-shadow .2s ease;
}
.btn:hover { box-shadow: 0 12px 22px rgba(59,130,246,.28); }
.btn:active { transform: scale(.98); }
.btn[disabled], .btn[aria-disabled="true"] { opacity: .5; cursor: not-allowed; }
/* globals.css (snippet) */
:root {
  --gg-primary: #2563EB; /* blue */
  --gg-primary-hover: #3B82F6;
  --gg-primary-pressed: #1E4ED8;
}
/* ===== CRM wide layout (almost full screen) ===== */
.crm .header,
.crm .sticky-header,
.crm .app-main {
  /* ~96vw center-aligned, but never absurdly wide */
  max-width: min(96vw, 1600px);
  width: 100%;
  margin-inline: auto;
}

/* Slightly tighter header so it doesn't feel tall */
.crm .header,
.crm .sticky-header {
  padding-block: 10px; /* was 16px globally */
}

/* Optional: full-bleed content row when needed */
.crm .fullbleed {
  max-width: none !important;
  width: 100% !important;
  padding-inline: clamp(12px, 2vw, 24px);
  margin: 0;
}

/* Kanban rails: let columns scroll instead of pushing layout */
.crm .board-rail {
  overflow-x: auto;
  padding-bottom: 8px; /* space for horizontal scrollbar */
}

/* If columns auto-size too narrow on small screens, you can enforce a sane floor */
@media (max-width: 1199px) {
  .crm .board-inner { min-width: 1100px; }
}
/* ================= CRM WIDE LAYOUT ================= */
.crm-wrap { min-height: 100dvh; display: grid; grid-template-rows: auto 1fr auto; }

/* ~full width, centered; raise cap if you like */
.crm-main,
.crm-header-inner,
.crm-footer-inner {
  max-width: min(96vw, 1600px);
  width: 100%;
  margin-inline: auto;
  padding-inline: clamp(12px, 2vw, 24px);
}

/* Header: compact row; does NOT use .header (which is capped at 900px) */
.crm-header { border-bottom: 1px solid rgba(255,255,255,.10); }
.crm-header-inner {
  display: grid;
  grid-template-columns: auto 1fr;
  align-items: center;
  gap: 12px;
  padding-block: 10px; /* keep it short */
}

.crm-logo.row { gap: 10px; text-decoration: none; }
.crm-logo h1 { margin: 0; font-size: 1.1rem; font-weight: 700; letter-spacing: .3px; }
.crm-logo-badge {
  height: 32px; width: 32px; border-radius: 8px;
  display: grid; place-items: center; font-weight: 800;
  background: rgb(var(--primary-600)); color: white;
}

/* Nav: single line, subtle active state */
.crm-nav {
  margin-left: auto;
  display: inline-flex;
  gap: 8px;
  align-items: center;
  flex-wrap: nowrap;
}
.crm-nav-link {
  white-space: nowrap;
  padding: 6px 8px;
  border-radius: 8px;
  border: 1px solid transparent;
  color: rgb(var(--text-300));
}
.crm-nav-link:hover { background: rgba(255,255,255,.06); color: rgb(var(--text-100)); }
.crm-nav-link.is-active {
  color: rgb(var(--text-100));
  background: rgba(255,255,255,.08);
  border-color: rgba(255,255,255,.16);
}

/* Footer */
.crm-footer { border-top: 1px solid rgba(255,255,255,.10); }
.crm-footer-inner {
  display: flex; align-items: center; gap: 12px; padding-block: 12px;
}
.crm-footer-nav { margin-left: auto; display: inline-flex; gap: 14px; }

/* Board rail: keep the page width fixed; let columns scroll if needed */
.crm-board-rail { overflow-x: auto; padding-bottom: 8px; }
.crm-board-inner { min-width: 1100px; } /* adjust based on your column width */
/* ===== CRM header max-height ===== */
:root { --crm-header-h: 56px; }      /* try 56; use 48–64 as needed */

.crm-header {
  max-height: var(--crm-header-h);
  overflow: clip;                     /* hide anything taller */
}

.crm-header-inner {
  /* lock the inner row to the same height */
  height: var(--crm-header-h);
  padding-block: 0 !important;        /* remove vertical padding so it fits */
  display: grid;
  grid-template-columns: auto 1fr;
  align-items: center;
  gap: 10px;
}

/* tighten logo */
.crm-logo h1 { margin: 0; font-size: 1rem; line-height: 1; white-space: nowrap; }
.crm-logo-badge { width: 28px; height: 28px; border-radius: 8px; }

/* keep nav on one line and allow sideways scroll if it overflows */
.crm-nav {
  justify-self: end;
  display: inline-flex;
  gap: 6px;
  white-space: nowrap;
  overflow-x: auto;                   /* scroll within the header, not grow taller */
  scrollbar-width: none;              /* optional: hide scrollbar in Firefox */
}
.crm-nav::-webkit-scrollbar { display: none; }  /* optional: hide in WebKit */

/* tighter links so the row fits in 56px */
.crm-nav-link {
  padding: 4px 8px;
  line-height: 1;
  font-size: 0.9rem;
  border-radius: 8px;
  border: 1px solid transparent;
}
.crm-nav-link.is-active {
  background: rgba(255,255,255,.08);
  border-color: rgba(255,255,255,.16);
  color: rgb(var(--text-100));
}

/* small screens: shave a bit more */
@media (max-width: 640px) {
  :root { --crm-header-h: 48px; }
  .crm-logo h1 { font-size: 0.95rem; }
  .crm-logo-badge { width: 24px; height: 24px; }
  .crm-nav-link { padding: 3px 7px; font-size: 0.85rem; }
}
/* ----- Fix phantom gap under CRM header ----- */
.crm-header { margin-bottom: 0 !important; }          /* no space after header */

/* --- CRM: remove the big blank band under header --- */
.crm-main {
  display: flow-root;      /* new formatting context => no top-margin collapse */
  padding-top: 8px !important;
}

.crm-main > :first-child {
  margin-top: 0 !important;               /* neutralize any first-child top margin */
}

/* If the first child is a <section> with an <h1> inside */
.crm-main > section:first-child > h1:first-child {
  margin-top: 0 !important;
}
/* --- CRM: kill the big blank band under the header --- */
.crm-wrap > main {
  /* make a new formatting context so first-child margins can't escape */
  display: flow-root;
  /* small, predictable top padding */
  padding-top: 8px !important;

  /* make CRM main wide without relying on .crm-main */
  max-width: min(96vw, 1600px);
  width: 100%;
  margin-inline: auto;
  padding-inline: clamp(12px, 2vw, 24px);
}

/* zero the very first element's top margin (section/h1/etc.) */
.crm-wrap > main > :first-child { margin-top: 0 !important; }

/* if your first child is an h1 directly */
.crm-wrap > main > h1:first-child { margin-top: 0 !important; }
/* accessibility: visually hide but keep for screen readers */
.sr-only {
  position: absolute !important;
  width: 1px; height: 1px;
  margin: -1px; padding: 0; border: 0;
  clip: rect(0 0 0 0); clip-path: inset(50%);
  overflow: hidden; white-space: nowrap;
}
/* rails for wide kanban */
.crm-board-rail { overflow-x: auto; padding-bottom: 8px; }
.crm-board-inner { min-width: 1100px; } /* tune to your column widths */

/* ===== Canonical sort arrows (robust) ===== */
/* Match either <th> or [role="columnheader"] that CONTAINS an element with aria-sort */
table thead :is(th,[role="columnheader"]):has([aria-sort]) {
  position: relative;
  padding-right: 16px; /* room for arrow */
}

/* 1) Kill any built-in icon, regardless of where it's attached */
table thead :is(th,[role="columnheader"]):has([aria-sort]) [aria-sort]::before,
table thead :is(th,[role="columnheader"]):has([aria-sort]) [aria-sort]::after,
table thead :is(th,[role="columnheader"]):has([aria-sort]) .sort,
table thead :is(th,[role="columnheader"]):has([aria-sort]) .sort::before,
table thead :is(th,[role="columnheader"]):has([aria-sort]) .sort::after {
  content: none !important;
  background: none !important;
  mask: none !important;
}

/* 2) Draw our own triangle on the cell itself (font-independent) */
table thead :is(th,[role="columnheader"]):has([aria-sort])::after {
  content: "" !important;
  position: absolute;
  right: 4px;
  top: 50%;
  transform: translateY(calc(-50% + 1px));
  width: 0; height: 0;
  border-left: 5px solid transparent;
  border-right: 5px solid transparent;
  border-bottom: 7px solid currentColor;   /* ▲ ascending */
  opacity: .85;
}

/* Descending = flip triangle */
table thead :is(th,[role="columnheader"]):has([aria-sort="descending"])::after {
  border-bottom: 0;
  border-top: 7px solid currentColor;     /* ▼ descending */
  transform: translateY(calc(-50% - 1px));
}

/* Optional: dim when aria-sort="none" */
table thead :is(th,[role="columnheader"]):has([aria-sort="none"])::after {
  opacity: .35;
}
/* Floating CRM button */
.crm-fab {
  position: fixed !important;
  right: 16px;
  bottom: 16px; /* keep simple; add safe-area below if you want */
  z-index: 2147483647; /* max it out so it sits above any header/footer */
}

.crm-fab-btn {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 8px 12px;
  border-radius: 9999px;
  background: #1f2937;             /* neutral dark fallback */
  color: #fff;
  border: 1px solid rgba(255,255,255,.2);
  text-decoration: none;
  box-shadow: 0 8px 24px rgba(0,0,0,.25);
  font-size: 14px;
  line-height: 1;
}
.crm-fab-btn:hover { filter: brightness(1.08); }
.crm-fab-btn:active { transform: translateY(1px); }

/* If you have a bottom bar with a high z-index, give it a lower one */
/* Let board stretch to full width and avoid nested horizontal scrolling */
.crm-board-rail,
.crm-board-inner { overflow-x: visible !important; }

@media (min-width: 1100px) {
  .crm-board-inner { width: 100% !important; }
}
